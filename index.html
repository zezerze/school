<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Schooler</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-dark: #1e1e2f;
    --bg-light: #f5f5f5;
    --text-dark: #f5f5f5;
    --text-light: #1e1e2f;
    --accent: #ffcc00;
    --card-dark: #2a2a40;
    --card-light: #e0e0e0;
    --card-hover-dark: #3a3a5a;
    --card-hover-light: #d5d5d5;
  }
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    background: var(--bg-dark);
    color: var(--text-dark);
    transition: background 0.3s, color 0.3s;
  }
  h1 { text-align:center; margin:20px 0; color: var(--accent); }
  .tabs { display:flex; justify-content:center; gap:10px; margin-bottom:20px; flex-wrap: wrap; }
  .tab {
    padding:10px 20px;
    border-radius: 10px;
    background:#33334d;
    cursor:pointer;
    font-weight:600;
    position: relative;
    overflow: hidden;
    transition: background 0.3s;
  }
  .tab.active { background: var(--accent); color: var(--text-dark); }
  .tab::after {
    content: '';
    position: absolute;
    left: -100%;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(255,255,255,0.1);
    transition: left 0.3s;
  }
  .tab.active::after { left: 0; }
  .content { display:none; max-width:600px; margin:0 auto; padding:0 10px; opacity:0; transform: translateY(20px); transition: opacity 0.3s, transform 0.3s;}
  .content.active { display:block; opacity:1; transform: translateY(0);}
  .card {
    background: var(--card-dark);
    padding:15px;
    margin:10px 0;
    border-radius:10px;
    display:flex;
    justify-content: space-between;
    align-items:center;
    transition:0.3s, background 0.3s;
  }
  .card:hover { background: var(--card-hover-dark); }
  input, button {
    padding:8px;
    margin:5px 0;
    border-radius:5px;
    border:none;
    font-family:'Poppins';
  }
  input { width:60%; }
  button {
    background: var(--accent);
    color: #1e1e2f;
    cursor:pointer;
    font-weight:600;
    transition:0.2s;
  }
  button:hover { background:#e6b800; }
  ul { list-style:none; padding-left:0; }
  li { margin:3px 0; }
  .toggle-container { display:flex; justify-content:center; margin-bottom:10px; gap:10px; }
</style>
</head>
<body>

<h1>Schooler</h1>

<div class="toggle-container">
  <button onclick="setMode('light')">Light Mode</button>
  <button onclick="setMode('dark')">Dark Mode</button>
</div>

<div class="tabs">
  <div class="tab active" data-tab="homework">Homework</div>
  <div class="tab" data-tab="grades">Grades</div>
  <div class="tab" data-tab="notes">Notes</div>
  <div class="tab" data-tab="lab">Lab Data</div>
  <div class="tab" data-tab="projects">Group Projects</div>
</div>

<!-- Homework -->
<div class="content active" id="homework">
  <input type="text" id="hwName" placeholder="Assignment Name">
  <input type="text" id="hwDue" placeholder="Due Date">
  <button onclick="addHomework()">Add Assignment</button>
  <ul id="hwList"></ul>
</div>

<!-- Grades -->
<div class="content" id="grades">
  <input type="number" id="gradeInput" placeholder="Enter grade">
  <button onclick="addGrade()">Add Grade</button>
  <ul id="gradeList"></ul>
  <p id="avgGrade">Average: 0</p>
</div>

<!-- Notes -->
<div class="content" id="notes">
  <input type="text" id="noteInput" placeholder="Add note">
  <button onclick="addNote()">Add Note</button>
  <input type="text" id="noteSearch" placeholder="Search notes" oninput="searchNotes()">
  <ul id="noteList"></ul>
</div>

<!-- Lab Data -->
<div class="content" id="lab">
  <input type="number" id="labInput" placeholder="Enter data point">
  <button onclick="addLabData()">Add Data</button>
  <ul id="labList"></ul>
  <p id="labMean">Mean: 0</p>
</div>

<!-- Group Projects -->
<div class="content" id="projects">
  <input type="text" id="memberInput" placeholder="Add member">
  <button onclick="addMember()">Add Member</button>
  <ul id="memberList"></ul>
  <input type="text" id="taskInput" placeholder="Add task">
  <button onclick="addTask()">Add Task</button>
  <ul id="taskList"></ul>
</div>

<script>
const tabs = document.querySelectorAll('.tab');
const contents = document.querySelectorAll('.content');
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(t => t.classList.remove('active'));
    contents.forEach(c => c.classList.remove('active'));
    tab.classList.add('active');
    const content = document.getElementById(tab.dataset.tab);
    content.classList.add('active');
  });
});

// Mode toggle
function setMode(mode){
  if(mode==='light'){
    document.body.style.background = getComputedStyle(document.documentElement).getPropertyValue('--bg-light');
    document.body.style.color = getComputedStyle(document.documentElement).getPropertyValue('--text-light');
    document.querySelectorAll('.card').forEach(c=>{ c.style.background=getComputedStyle(document.documentElement).getPropertyValue('--card-light'); c.style.color='black'; });
  }else{
    document.body.style.background = getComputedStyle(document.documentElement).getPropertyValue('--bg-dark');
    document.body.style.color = getComputedStyle(document.documentElement).getPropertyValue('--text-dark');
    document.querySelectorAll('.card').forEach(c=>{ c.style.background=getComputedStyle(document.documentElement).getPropertyValue('--card-dark'); c.style.color='white'; });
  }
}

// Helper functions for localStorage
function saveData(key,data){ localStorage.setItem(key, JSON.stringify(data)); }
function loadData(key){ return JSON.parse(localStorage.getItem(key)) || []; }

// ----- Homework -----
let hwList = loadData('homework');
function renderHomework(){ 
  const ul = document.getElementById('hwList'); 
  ul.innerHTML = ''; 
  hwList.forEach((hw,i)=>{
    let li=document.createElement('li');
    let card=document.createElement('div'); card.className='card';
    card.textContent=hw;
    let remove=document.createElement('button'); remove.textContent='Remove';
    remove.onclick=()=>{ hwList.splice(i,1); saveData('homework',hwList); renderHomework(); }
    card.appendChild(remove);
    ul.appendChild(card);
  });
}
function addHomework(){
  const name = document.getElementById('hwName').value;
  const due = document.getElementById('hwDue').value;
  if(name && due){
    hwList.push(`${name} - due: ${due}`);
    saveData('homework', hwList);
    renderHomework();
    document.getElementById('hwName').value='';
    document.getElementById('hwDue').value='';
  }
}
renderHomework();

// ----- Grades -----
let grades = loadData('grades');
function renderGrades(){
  const ul = document.getElementById('gradeList'); ul.innerHTML='';
  grades.forEach((g,i)=>{
    let li=document.createElement('li');
    let card=document.createElement('div'); card.className='card';
    card.textContent=`Grade ${i+1}: ${g}`;
    let remove=document.createElement('button'); remove.textContent='Remove';
    remove.onclick=()=>{ grades.splice(i,1); saveData('grades',grades); renderGrades(); }
    card.appendChild(remove);
    ul.appendChild(card);
  });
  const avg = grades.reduce((a,b)=>a+b,0)/grades.length || 0;
  document.getElementById('avgGrade').textContent = `Average: ${avg.toFixed(2)}`;
}
function addGrade(){
  const g = parseFloat(document.getElementById('gradeInput').value);
  if(!isNaN(g)){ grades.push(g); saveData('grades',grades); renderGrades(); document.getElementById('gradeInput').value=''; }
}
renderGrades();

// ----- Notes -----
let notes = loadData('notes');
function renderNotes(list){ 
  const ul=document.getElementById('noteList'); ul.innerHTML=''; 
  list.forEach((n,i)=>{ 
    let li=document.createElement('li'); 
    let card=document.createElement('div'); card.className='card';
    card.textContent=n;
    let remove=document.createElement('button'); remove.textContent='Remove';
    remove.onclick=()=>{ notes.splice(i,1); saveData('notes',notes); renderNotes(notes); }
    card.appendChild(remove);
    ul.appendChild(card);
  });
}
function addNote(){ 
  const note=document.getElementById('noteInput').value; 
  if(note){ notes.push(note); saveData('notes',notes); renderNotes(notes); document.getElementById('noteInput').value=''; }
}
function searchNotes(){ 
  const q=document.getElementById('noteSearch').value.toLowerCase(); 
  renderNotes(notes.filter(n=>n.toLowerCase().includes(q))); 
}
renderNotes(notes);

// ----- Lab Data -----
let labData = loadData('labData');
function renderLab(){ 
  const ul=document.getElementById('labList'); ul.innerHTML='';
  labData.forEach((d,i)=>{
    let li=document.createElement('li');
    let card=document.createElement('div'); card.className='card';
    card.textContent=`Data ${i+1}: ${d}`;
    let remove=document.createElement('button'); remove.textContent='Remove';
    remove.onclick=()=>{ labData.splice(i,1); saveData('labData',labData); renderLab(); }
    card.appendChild(remove);
    ul.appendChild(card);
  });
  const mean = labData.reduce((a,b)=>a+b,0)/labData.length || 0;
  document.getElementById('labMean').textContent=`Mean: ${mean.toFixed(2)}`;
}
function addLabData(){ 
  const val=parseFloat(document.getElementById('labInput').value);
  if(!isNaN(val)){ labData.push(val); saveData('labData',labData); renderLab(); document.getElementById('labInput').value=''; }
}
renderLab();

// ----- Group Projects -----
let members = loadData('members');
let tasks = loadData('tasks');
function renderList(id, list){ const ul=document.getElementById(id); ul.innerHTML=''; list.forEach((item,i)=>{ 
  let card=document.createElement('div'); card.className='card';
  card.textContent=item;
  let remove=document.createElement('button'); remove.textContent='Remove';
  remove.onclick=()=>{ list.splice(i,1); saveData(id==='memberList'?'members':'tasks',list); renderList(id,list); }
  card.appendChild(remove);
  ul.appendChild(card);
});}
function addMember(){ const m=document.getElementById('memberInput').value; if(m){ members.push(m); saveData('members',members); renderList('memberList',members); document.getElementById('memberInput').value='';}}
function addTask(){ const t=document.getElementById('taskInput').value; if(t){ tasks.push(t); saveData('tasks',tasks); renderList('taskList',tasks); document.getElementById('taskInput').value='';}}
renderList('memberList', members);
renderList('taskList', tasks);

</script>
</body>
</html>
